<template id="baca">
	<div>
		<img :src="gambar" class="baca-gambar">
		<div class="baca-konten">
			<h1 class="baca-konten-judul">
				<span v-text='judul'></span> 
				<a :href='edit(path)'><img src="aset/pencil-edit-button.png" class="ukuran-16"></a>
				<a :href='hapus(path)'><img src="aset/trash.png" class="ukuran-16"></a>
			</h1>
			<div v-html='isi'></div>
		</div>
		<router-link to='/' class='baca-kembali'><img src="aset/back-button.png" class="ukuran-32"></router-link>
	</div>
</template>
<link rel="stylesheet" type="text/css" href="vendor/monokai.css">
<script type="text/javascript">
	baca = {
		template: '#baca',
		data(){
			return {
				gambar: '',
				judul: '',
				isi: '',
				path: ''
			}
		},
		methods: {
			edit(x){
				return `https://github.com/mzaini30/mzaini30.github.io/edit/master/${x}`;
			},
			hapus(x){
				return `https://github.com/mzaini30/mzaini30.github.io/delete/master/${x}`;
			},
			tampil(){
			 fetch(`konten/${this.$route.params.slug}.html`).then(x => x.json()).then(data => {
 				this.gambar = data.gambar;
 				this.judul = data.judul;
 				this.isi = data.isi;
 				this.path = data.path;
 			});
			}
		},
		mounted(){
			this.tampil();
		},
		watch: {
		 $route(){
		  window.scrollTo({
		   left: 0,
		   top: 0,
		   behavior: "smooth"
		  });
		  this.tampil();
		 }
		}
	}
</script>